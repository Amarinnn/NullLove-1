<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="An impressive and flawless site template that includes various UI elements and countless features, attractive ready-made blocks and rich pages, basically everything you need to create a unique and professional website.">
  <meta name="keywords"
    content="bootstrap 5, business, corporate, creative, gulp, marketing, minimal, modern, multipurpose, one page, responsive, saas, sass, seo, startup, html5 template, site template">
  <meta name="author" content="elemis">
  <title>Empty</title>
  <link rel="shortcut icon" href="./assets/img/favicon.png">
  <link rel="stylesheet" href="./assets/css/plugins.css">
  <link rel="stylesheet" href="./assets/css/style.css">
  <link rel="preload" href="./assets/css/fonts/noto2.css" as="style" onload="this.rel='stylesheet'">
</head>

<body>
  <div class="content-wrapper">
    <header class="wrapper">
      <nav class="navbar navbar-expand-lg center-nav navbar-light navbar-bg-light">
        <div class="container flex-lg-row flex-nowrap align-items-center">
          <div class="navbar-brand w-100">
            <a href="/">
              <img src="./assets/img/logo.png" srcset="./assets/img/logo@2x.png 2x" alt="" />
            </a>
          </div>
          <div class="navbar-collapse offcanvas-nav">
            <div class="offcanvas-header d-lg-none d-xl-none">
              <a href="./index.html"><img src="./assets/img/logo-light.png" srcset="./assets/img/logo-light@2x.png 2x"
                  alt="" /></a>
              <button type="button" class="btn-close btn-close-white offcanvas-close offcanvas-nav-close"
                aria-label="Close"></button>
            </div>
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="/most">우수사업계획서</a></li>
              <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#">회원커뮤</a>
                <ul class="dropdown-menu">
                  <li class="nav-item"><a class="dropdown-item" href="#">좋좋소</a></li>
                  <li class="nav-item"><a class="dropdown-item" href="#">짭라인드</a></li>
                  <li class="nav-item"><a class="dropdown-item" href="#">Another Action</a></li>
                </ul>
              </li>
              <li class="nav-item"><a class="nav-link" href="#">Mega Menu</a>
                <ul class="dropdown-menu mega-menu">
                  <li class="mega-menu-content">
                    <div class="row gx-0 gx-lg-3">
                      <div class="col-lg-6">
                        <h6 class="dropdown-header">One</h6>
                        <div class="row gx-0">
                          <div class="col-lg-6">
                            <ul class="list-unstyled">
                              <li><a class="dropdown-item" href="#">Link</a></li>
                              <li><a class="dropdown-item" href="#">Link</a></li>
                              <li><a class="dropdown-item" href="#">Link</a></li>
                            </ul>
                          </div>
                          <!--/column -->
                          <div class="col-lg-6">
                            <ul class="list-unstyled">
                              <li><a class="dropdown-item" href="#">Link</a></li>
                              <li><a class="dropdown-item" href="#">Link</a></li>
                              <li><a class="dropdown-item" href="#">Link</a></li>
                            </ul>
                          </div>
                          <!--/column -->
                        </div>
                        <!--/.row -->
                      </div>
                      <!--/column -->
                      <div class="col-lg-3">
                        <h6 class="dropdown-header">Two</h6>
                        <ul class="list-unstyled">
                          <li><a class="dropdown-item" href="#">Link</a></li>
                          <li><a class="dropdown-item" href="#">Link</a></li>
                          <li><a class="dropdown-item" href="#">Link</a></li>
                        </ul>
                      </div>
                      <!--/column -->
                      <div class="col-lg-3">
                        <h6 class="dropdown-header">Three</h6>
                        <ul class="list-unstyled">
                          <li><a class="dropdown-item" href="#">Link</a></li>
                          <li><a class="dropdown-item" href="#">Link</a></li>
                          <li><a class="dropdown-item" href="#">Link</a></li>
                        </ul>
                      </div>
                      <!--/column -->
                    </div>
                    <!--/.row -->
                  </li>
                  <!--/.mega-menu-content-->
                </ul>
                <!--/.dropdown-menu -->
              </li>
              <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
            </ul>
            <!-- /.navbar-nav -->
          </div>
          <!-- /.navbar-collapse -->
          <div class="navbar-other w-100 d-flex ms-auto">
            <ul class="navbar-nav flex-row align-items-center ms-auto" data-sm-skip="true">
              <li class="nav-item d-none d-md-block">
                <a href="/login" class="btn btn-sm btn-primary rounded-pill">Login / Join</a>
              </li>
              <li class="nav-item d-lg-none">
                <div class="navbar-hamburger"><button class="hamburger animate plain"
                    data-toggle="offcanvas-nav"><span></span></button></div>
              </li>
            </ul>
            <!-- /.navbar-nav -->
          </div>
          <!-- /.navbar-other -->
        </div>
        <!-- /.container -->
      </nav>
      <!-- /.navbar -->
      <!-- /.navbar -->
    </header>
    <!-- /header -->
    <section class="wrapper bg-dark text-white">
      <div class="container pt-18 pt-md-20 pb-21 pb-md-21 text-center">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h1 class="display-1 text-white mb-3">기업 회원가입</h1>
            <nav class="d-inline-block" aria-label="breadcrumb">
              <ol class="breadcrumb text-white">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Sign Up</li>
              </ol>
            </nav>
            <!-- /nav -->
          </div>
          <!-- /column -->
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container -->
    </section>
    <!-- /section -->

    <section class="wrapper bg-light">
      <div class="container pb-14 pb-md-16">
        <div class="row">
          <div class="col mt-n19">
            <div class="card shadow-lg">
              <div class="row gx-0 text-center">
                <div class="col-lg-6 image-wrapper bg-image bg-cover rounded-top rounded-lg-start d-none d-md-block" data-image-src="./assets/img/photos/tm3.jpg">
                </div>
                <!--/column -->
                <div class="col-lg-6">
                  <div class="p-10 p-md-11 p-lg-13">
                    <form class="text-start mb-3" action="signup_com" method="post" name="join_form2">
                    <h2 class="mb-3 text-start">기업 회원가입</h2>
                    <p class="lead mb-6 text-start">아이디 / 비밀번호 입력</p>
                      <div class="form-floating mb-4">
                        <input type="text" class="form-control w-75 float-start me-lg-5" placeholder="Name" id="id" name="id">
                        <label for="loginId">아이디 *</label>
                        <a href="#" class="btn btn-soft-primary btn-sm rounded-pill" onclick="checkId()" id = "id_check">중복확인</a>
                        </div>
                      <div class="form-floating mb-4">
                        <input type="password" class="form-control" placeholder="Name" id="pw" name="pw">
                        <span class="password-toggle"><i class="uil uil-eye"></i></span>
                        <label for="loginPassword">비밀번호 *</label>
                      </div>
                      <div class="form-floating mb-4">
                    <input type="email" class="form-control" placeholder="Email" id="email" name="email">
                    <label for="loginEmail">Email *</label>
                  </div>
               
                <div class="form-floating mb-4">
                    <input type="text" class="form-control" placeholder="이름" id="name" name="name">
                    <label for="loginEmail">이름 *</label>
                  </div>
                  <div class="form-floating mb-4">
                    <input type="text" class="form-control" placeholder="닉네임" id="nick" name="nick">
                    <label for="loginEmail">닉네임 *</label>
                  </div>
                      <br>
                      <p class="lead mb-6 text-start">기업 정보 입력</p>
                      <div class="form-floating mb-4 ">
                    <input type="text" class="form-control w-75 float-start me-lg-5"  placeholder="Name" id="check_input" name="no" maxlength='10'>
                    <label for="loginName">사업자 등록번호</label>
                    <a type="button" class="btn btn-soft-primary btn-sm rounded-pill" id="check_btn">진위확인</a>
                  </div>
                      <div class="form-floating mb-4">
                        <input type="text" class="form-control" placeholder="Name" id="name" name="name">
                        <label for="loginName_com">회사명</label>
                      </div>
                      <div class="form-floating mb-4">
                        <input type="text" class="form-control" placeholder="Email" id="type" name="type">
                        <label for="loginType">업종명</label>
                      </div>
                      <div class="form-floating password-field mb-4">
                        <input type="text" class="form-control" placeholder="Password" id="opendate" name="opendate">
                        <label for="loginOpendate">개업일자</label>
                      </div>
                      <div class="form-floating password-field mb-4">
                        <input type="text" class="form-control" placeholder="Confirm Password" id="owner" name="owner">
                        <label for="loginCeo">대표명</label>
                      </div>
                       <input type="hidden" id="login_type" name="login_type" value="C">
                      <a class="btn btn-primary rounded-pill btn-login w-100 mb-2" type="button" onclick="joinform_check2();">Sign Up</a>
                    </form>
                    <!-- /form -->
                    <p class="mb-0">Already have an account? <a href="./signin2.html" class="hover">Sign in</a></p>
                    <div class="divider-icon my-4">or</div>
                    <nav class="nav social justify-content-center text-center">
                      <a href="#" class="btn btn-circle btn-sm btn-google"><i class="uil uil-google"></i></a>
                      <a href="#" class="btn btn-circle btn-sm btn-facebook-f"><i class="uil uil-facebook-f"></i></a>
                      <a href="#" class="btn btn-circle btn-sm btn-twitter"><i class="uil uil-twitter"></i></a>
                    </nav>
                    <!--/.social -->
                  </div>
                  <!--/div -->
                </div>
                <!--/column -->
              </div>
              <!--/.row -->
            </div>
            <!-- /.card -->
          </div>
          <!-- /column -->
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container -->
    </section>
    <!-- /section -->
  </div>
  <!-- /.content-wrapper -->
  <footer class="bg-dark text-inverse">
    <div class="container py-7 pt-md-11 ">
      <div class="d-md-flex align-items-center justify-content-between">
        <p class="mb-2 mb-lg-0">© 2022 Null사랑하지않아. All rights reserved.</p>
        <nav class="nav social social-white text-md-end">
          <a href="#"><i class="uil uil-twitter"></i></a>
          <a href="#"><i class="uil uil-facebook-f"></i></a>
          <a href="#"><i class="uil uil-dribbble"></i></a>
          <a href="#"><i class="uil uil-instagram"></i></a>
          <a href="#"><i class="uil uil-youtube"></i></a>
        </nav>
        <!-- /.social -->
      </div>
      <!-- /div -->
    </div>
    <!-- /.container -->
  </footer>
  <div class="progress-wrap">
    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
      <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
    </svg>
  </div>
  <script src="./assets/js/plugins.js"></script>
  <script src="./assets/js/theme.js"></script>
  <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
  <script>
        $(function(){
            $('#check_btn').click(function(){
                var check_val = $('#check_input').val();
                var data = {
                    "b_no": [check_val] // 사업자번호 "xxxxxxx" 로 조회 시,
                };
                
                $.ajax({
                  url: "https://api.odcloud.kr/api/nts-businessman/v1/status?serviceKey=WTuu0W1dJ4sq7hoRYcDCgKcHRQUaf6UajpAF8xtP%2Fv8PGrKCBEEhgvR5kauONv8s9PxPVjClHgy2mjAzNxB%2Fyw%3D%3D",  // serviceKey 값을 xxxxxx에 입력
                  type: "POST",
                  data: JSON.stringify(data), // json 을 string으로 변환하여 전송
                  dataType: "JSON",
                  contentType: "application/json",
                  accept: "application/json",
                  success: function(result) {
                    if(result.data[0].tax_type=="국세청에 등록되지 않은 사업자등록번호입니다."){
                      alert("잘못된 사업자 등록 번호입니다.");
                    }else {
                      alert("사용가능한 사업자 등록 번호입니다.")
                    }
                      /* alert(result.data[0].tax_type); */
                  },
                  error: function(result) {
                      alert(result.responseText); //responseText의 에러메세지 확인
                  }
                });
            });            
        });
        function joinform_check2() {
            //변수에 담아주기
            var id = document.getElementById("id");
            var pw = document.getElementById("pw");
            var name = document.getElementById("name");
            var no = document.getElementById("no");
            var owner = document.getElementById("owner");
            var type = document.getElementById("type");

            if (id.value == "") { //해당 입력값이 없을 경우 같은말: if(!uid.value)
              alert("아이디를 입력하세요.");
              id.focus(); //focus(): 커서가 깜빡이는 현상, blur(): 커서가 사라지는 현상
              return false; //return: 반환하다 return false:  아무것도 반환하지 말아라 아래 코드부터 아무것도 진행하지 말것
            };

            if (pw.value == "") {
              alert("비밀번호를 입력하세요.");
              pw.focus();
              return false;
            };
      		if (name.value == "") {
              alert("회사명을 입력하세요.");
              name.focus();
              return false;
            };
           /*  if (no.value == "") {
                alert("사업자등록 번호을 입력하세요.");
                no.focus();
                return false;
              };
            if (owner.value == "") {
                alert("대표명을 입력하세요.");
                owner.focus();
                return false;
                };
            if (type.value == "") {
                alert("사업직종을 입력하세요.");
                type.focus();
                return false;
                    }; */
            //입력 값 전송
              document.join_form2.submit();  //유효성 검사의 포인트   
          }
        function checkId() {
			var id = $('#id').val(); //id값이 "id"인 입력란의 값을 저장
			$.ajax({
				url : './idCheck', //Controller에서 요청 받을 주소
				type : 'post', //POST 방식으로 전달
				data : {
					id : id
				},
				success : function(cnt) { //컨트롤러에서 넘어온 cnt값을 받는다 
					if (cnt == 0) { //cnt가 1이 아니면(=0일 경우) -> 사용 가능한 아이디 
						$('.id_ok').css("display", "inline-block");
						$('.id_already').css("display", "none");
					} else { // cnt가 1일 경우 -> 이미 존재하는 아이디
						$('.id_already').css("display", "inline-block");
						$('.id_ok').css("display", "none");
						alert("아이디를 다시 입력해주세요");
						$('#id').val('');
					}
				},
				error : function() {
					alert("에러입니다");
				}
			});
		};
        </script>
</body>

</html>